!function(e){var i={};function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)o.d(e,i,function(t){return n[t]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/dist",o(o.s=2)}([function(t){t.exports=jQuery},function(){},function(t,n,e){"use strict";e.r(n);var i=e(0),o=e.n(i),a="simple-lightbox";function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}var c={links:'a[rel="lightbox"]',owner:"body",template:'\n<div class="lb-modal">\n  <div class="lb-wrapper">\n    <div class="lb-toolbar">\n      <div class="lb-page"></div>\n      <div class="lb-caption"></div>\n      <div class="lb-tools">\n        <div class="lb-tool lb-zoom" title="Zoom"></div>\n        <div class="lb-tool lb-window" title="Open new window"></div>\n        <div class="lb-tool lb-close" title="Close"></div>\n      </div>\n    </div>\n    <div class="lb-icon lb-prev"></div>\n    <div class="lb-icon lb-next"></div>\n    <div class="lb-content"></div>\n  </div>\n</div>\n'},h=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.options=o.a.extend({},c,n),this.$elem=o()(t),this.unbind(),this.bind()}return l(e,[{key:"destroy",value:function(){this.unbind()}},{key:"bind",value:function(){var n=this;this.$elem.on("click.".concat(a),this.options.links,function(t){t.preventDefault(),n.open(o()(t.currentTarget))})}},{key:"unbind",value:function(){this.$elem.off(".".concat(a))}},{key:"open",value:function(t){this.modal=new u(this),this.modal.setContent(t)}},{key:"links",value:function(){return this.$elem.find(this.options.links)}},{key:"current",value:function(){return this.links().filter(".lb-current")}},{key:"setCurrent",value:function(t){this.links().removeClass("lb-current"),t.addClass("lb-current")}},{key:"nextLink",value:function(){var t=this.links(),n=t.index(this.current());return n<t.length-1?t.eq(n+1):null}},{key:"prevLink",value:function(){var t=this.links(),n=t.index(this.current());return 0<n?t.eq(n-1):null}}],[{key:"modals",value:function(){return o()(".".concat(a)).map(function(t,n){return o()(n).data(a)}).get()}},{key:"getDefaults",value:function(){return c}},{key:"setDefaults",value:function(t){return o.a.extend(c,t)}}]),e}(),u=function(){function n(t){s(this,n),this.lightbox=t,this.options=t.options,this.$owner=o()(this.options.owner),this.ownerDocument=this.$owner.get(0).ownerDocument,this.$container=o()(this.options.template).addClass(a),this.$container.data(a,this),this.$container.appendTo(this.$owner).show(),this.$content=this.$container.find(".lb-content"),this.$caption=this.$container.find(".lb-caption"),this.$page=this.$container.find(".lb-page"),this.zooming=!1,this.keyboardHandler=new f(this),this.wheelHandler=new v(this),this.imageView=new d(this),this.bind()}return l(n,[{key:"bind",value:function(){var n=this;this.$container.on("click",function(){n.zooming||n.close()}).on("click",".lb-content, .lb-toolbar, .lb-icon",function(t){t.stopPropagation()}).on("click",".lb-close",function(t){n.close(),t.stopPropagation()}).on("click",".lb-window",function(t){n.openWindow(),t.stopPropagation()}).on("click",".lb-zoom",function(t){n.toggleZoom(),t.stopPropagation()}).on("click",".lb-next",function(t){n.next(),t.stopPropagation()}).on("click",".lb-prev",function(t){n.prev(),t.stopPropagation()}),this.keyboardHandler.bind(),this.wheelHandler.bind(),this.imageView.bind()}},{key:"unbind",value:function(){this.$container.off(".".concat(a)),this.keyboardHandler.unbind(),this.wheelHandler.unbind(),this.imageView.unbind()}},{key:"close",value:function(){this.unbind(),this.$container.remove(),this.$container=null}},{key:"next",value:function(){var t=this.lightbox.nextLink();t&&this.setContent(t)}},{key:"prev",value:function(){var t=this.lightbox.prevLink();t&&this.setContent(t)}},{key:"toggleZoom",value:function(){this.zooming?(this.$container.removeClass("lb-zooming"),this.zooming=!1):(this.$container.addClass("lb-zooming"),this.zooming=!0),this.imageView.initImage(this.zooming)}},{key:"openWindow",value:function(){window.open(this.lightbox.current().attr("href"))}},{key:"setContent",value:function(t){this.lightbox.setCurrent(t);var n=this.lightbox.links();this.$page.text("".concat(n.index(t)+1,"/").concat(n.length));var e=o()("<span>").attr("title",t.attr("title")).text(t.attr("title"));this.$caption.empty().append(e),this.imageView.setImage(t.attr("href"))}}]),n}(),d=function(){function n(t){s(this,n),this.modal=t,this.zooming=!1,this.dragging=!1}return l(n,[{key:"bind",value:function(){var n=this;this.modal.$container.on("mousedown",function(t){n.dragging=!0,n.dragStart(t.pageX,t.pageY),t.preventDefault()}).on("mousemove",function(t){n.dragging&&n.drag(t.pageX,t.pageY),t.preventDefault()}).on("mouseup mouseleave",function(t){n.dragging=!1,t.preventDefault()}).on("dblclick","img",function(t){n.toggleZoom(t.offsetX,t.offsetY),t.preventDefault()}),o()(window).on("resize.".concat(a),function(){n.initImage()})}},{key:"unbind",value:function(){o()(window).off(".".concat(a))}},{key:"setImage",value:function(t){this.$img&&this.$img.remove(),this.$img=o()("<img>").attr("src",t).prependTo(this.modal.$content),this.initImage()}},{key:"initImage",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;null!=n&&(this.zooming=n);var e=this.$img,i=this.modal.$container;this.zooming?e.css({"max-width":"","max-height":""}):e.css({"max-width":"100%","max-height":"100%"}),this.movableX=0,this.movableY=0,e.width()>i.width()&&(this.movableX+=(e.width()-i.width())/2),e.height()>i.height()&&(this.movableY+=(e.height()-i.height())/2),0==this.movableX&&0==this.movableY?e.css({cursor:"auto",left:"0",transform:""}):e.css({cursor:"move"}),0!=this.movableX&&e.css({left:"-".concat(this.movableX,"px")}),this.zooming||(this.transX=0,this.transY=0),this.translate(this.transX,this.transY)}},{key:"dragStart",value:function(t,n){this.startX=t,this.startY=n,this.startTransX=this.transX,this.startTransY=this.transY}},{key:"drag",value:function(t,n){var e=this.startTransX+(t-this.startX),i=this.startTransY+(n-this.startY);this.translate(e,i)}},{key:"translate",value:function(t,n){t<-this.movableX&&(t=-this.movableX),t>this.movableX&&(t=this.movableX),n<-this.movableY&&(n=-this.movableY),n>this.movableY&&(n=this.movableY),this.transX=t,this.transY=n,this.$img.css("transform","translate(".concat(t,"px, ").concat(n,"px)"))}},{key:"wheel",value:function(t,n){this.translate(this.transX+t,this.transY-n)}},{key:"toggleZoom",value:function(t,n){var e=(this.$img.width()/2-t)*(this.$img.get(0).naturalWidth/this.$img.width()),i=(this.$img.height()/2-n)*(this.$img.get(0).naturalHeight/this.$img.height());this.modal.toggleZoom(),this.translate(e,i)}}]),n}(),f=function(){function n(t){s(this,n),this.modal=t,this.ownerDocument=t.ownerDocument}return l(n,[{key:"bind",value:function(){var n=this;o()(this.ownerDocument).on("keydown.".concat(a),function(t){n.keydown(t.keyCode,t.ctrlKey,t.shiftKey),t.preventDefault()})}},{key:"unbind",value:function(){o()(this.ownerDocument).off(".".concat(a))}},{key:"keydown",value:function(t){switch(t){case 8:case 34:case 37:this.modal.prev();break;case 32:case 33:case 39:this.modal.next();break;case 13:this.modal.toggleZoom();break;case 27:this.modal.close()}}}]),n}(),v=function(){function n(t){s(this,n),this.modal=t,this.ownerDocument=t.ownerDocument}return l(n,[{key:"bind",value:function(){this.ownerDocument.addEventListener("wheel",n.handler,{passive:!1})}},{key:"unbind",value:function(){this.ownerDocument.removeEventListener("wheel",n.handler,{passive:!1})}}],[{key:"handler",value:function(n){n.preventDefault(),h.modals().forEach(function(t){t.zooming?t.imageView.wheel(n.deltaX,n.deltaY):n.deltaY<0?t.prev():t.next()})}}]),n}();e(1);o.a.fn.simpleLightbox=function(i){return this.each(function(t,n){var e=o()(n);e.data(a)&&e.data(a).destroy(),e.data(a,new h(e,i))})},o.a.SimpleLightbox=h}]);